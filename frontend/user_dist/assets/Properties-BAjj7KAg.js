import{r as i,j as e,m as s,g as H,X as m,B as M,h as Q,i as _,k as L,F as B,G,l as D,S as I,b as V,n as $,A as j,o as z,p as W,q as X,M as Y,s as O,t as U,v as q,f as J}from"./index-BvuiupfI.js";const Z=()=>{const[l,p]=i.useState({isGridView:!0,showFilters:!1,showMap:!1}),[d,x]=i.useState({properties:[],loading:!0,error:null,selectedProperty:null}),[r,o]=i.useState({propertyType:"",priceRange:[0,Number.MAX_SAFE_INTEGER],bedrooms:"0",bathrooms:"0",availability:"",searchQuery:"",sortBy:"",investment:""}),[h,f]=i.useState(0),[N,S]=i.useState(!1);i.useEffect(()=>{const t=()=>{S(window.scrollY>100)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]),i.useEffect(()=>{let t=0;r.propertyType&&t++,(r.priceRange[0]>0||r.priceRange[1]<Number.MAX_SAFE_INTEGER)&&t++,r.bedrooms!=="0"&&t++,r.bathrooms!=="0"&&t++,r.availability&&t++,r.investment&&t++,r.searchQuery&&t++,f(t)},[r]);const g=async()=>{try{x(a=>({...a,loading:!0}));const t=await U.get(`${q}/api/products/list`);if(t.data.success){const a=t.data.property.filter(c=>c.isApproved&&c.lp===!1);x(c=>({...c,properties:a,error:null,loading:!1}))}else throw new Error(t.data.message)}catch(t){x(a=>({...a,error:"Failed to fetch properties. Please try again later.",loading:!1})),console.error("Error fetching properties:",t)}};i.useEffect(()=>{g()},[]);const n=i.useMemo(()=>d.properties.filter(t=>{var b,w,v;if(!isNaN(r.searchQuery)&&r.searchQuery.trim()!==""&&t.serialNumber!==void 0&&t.serialNumber.toString()===r.searchQuery.trim())return!0;const c=!r.searchQuery||[t.title,t.description,t.location,((b=t.serialNumber)==null?void 0:b.toString())||""].some(y=>y==null?void 0:y.toLowerCase().includes(r.searchQuery.toLowerCase())),E=!r.propertyType||((w=t.type)==null?void 0:w.toLowerCase())===r.propertyType.toLowerCase(),R=t.price>=r.priceRange[0]&&t.price<=r.priceRange[1],P=!r.bedrooms||r.bedrooms==="0"||t.beds>=parseInt(r.bedrooms),T=!r.bathrooms||r.bathrooms==="0"||t.baths>=parseInt(r.bathrooms),C=!r.availability||((v=t.availability)==null?void 0:v.toLowerCase())===r.availability.toLowerCase(),k=!r.investment||(r.investment==="yes"?t.invest&&t.invest!==""||t.isForInvestment:r.investment==="no"?(!t.invest||t.invest==="")&&!t.isForInvestment:!0);return c&&E&&R&&P&&T&&C&&k}).sort((t,a)=>{switch(r.sortBy){case"price-asc":return t.price-a.price;case"price-desc":return a.price-t.price;case"newest":return new Date(a.createdAt||0)-new Date(t.createdAt||0);case"serial":return(t.serialNumber||0)-(a.serialNumber||0);default:return 0}}),[d.properties,r]),F=t=>{o(a=>({...a,...t}))},u=()=>{o({propertyType:"",priceRange:[0,Number.MAX_SAFE_INTEGER],bedrooms:"0",bathrooms:"0",availability:"",searchQuery:"",sortBy:"",investment:""})},A=i.useMemo(()=>{var a;return!isNaN(r.searchQuery)&&r.searchQuery.trim()!==""&&n.length===1?((a=n[0].serialNumber)==null?void 0:a.toString())===r.searchQuery.trim():!1},[n,r.searchQuery]);return d.loading?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 pt-16",children:e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(H,{className:"w-12 h-12 text-[var(--theme-color-1)] animate-spin mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Loading..."})]})})}):d.error?e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-blue-50 to-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 z-0 opacity-5",children:e.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("defs",{children:e.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"currentColor",strokeWidth:"1"})})}),e.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center p-8 bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl max-w-md relative z-10 border border-red-100",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(m,{className:"w-8 h-8 text-red-500"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Something Went Wrong"}),e.jsx("p",{className:"text-gray-600 mb-6",children:d.error}),e.jsx(s.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:g,className:"px-6 py-3 bg-gradient-to-r from-[var(--theme-color-1)] to-[var(--theme-hover-color-1)] text-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 font-medium",children:"Try Again"})]})]}):e.jsxs(s.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-gradient-to-b from-blue-50 to-white pt-16 pb-20 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 z-0 opacity-5",children:e.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("defs",{children:e.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"currentColor",strokeWidth:"1"})})}),e.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),e.jsx("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-blue-100 rounded-full filter blur-3xl opacity-30"}),e.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-96 h-96 bg-blue-100 rounded-full filter blur-3xl opacity-30"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 relative z-10",children:[e.jsxs(s.header,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:"text-center mb-10 md:mb-16",children:[e.jsx(s.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1,duration:.4},className:"inline-block mb-4",children:e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-100 to-white rounded-xl shadow-md",children:e.jsx(M,{className:"w-8 h-8 text-[var(--theme-color-1)]"})})}),e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4 relative",children:[e.jsx("span",{className:"relative z-10",children:"Find Your Perfect Property"}),e.jsx(s.span,{className:"absolute bottom-1 left-0 right-0 h-3 bg-blue-200/40 -z-0 mx-auto w-64",initial:{width:0},animate:{width:"12rem"},transition:{delay:.3,duration:.6}})]}),e.jsx(s.p,{className:"text-lg md:text-xl text-gray-600 max-w-2xl mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:"Discover a curated collection of premium properties tailored to your needs"}),e.jsx(s.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"flex items-center justify-center mt-6",children:e.jsx(s.div,{animate:{y:[0,8,0]},transition:{duration:2,repeat:1/0},className:"text-[var(--theme-color-1)]",children:e.jsx(Q,{className:"h-6 w-6"})})})]}),e.jsx(s.div,{className:`sticky top-16 z-20 py-3 backdrop-blur-md transition-all duration-300 -mx-4 px-4 ${N?"bg-white/80 shadow-md":"bg-transparent"}`,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[e.jsx(_,{onSearch:t=>o(a=>({...a,searchQuery:t})),className:"flex-1"}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsxs(s.div,{className:"relative",whileHover:{scale:1.02},children:[e.jsxs("select",{value:r.sortBy,onChange:t=>o(a=>({...a,sortBy:t.target.value})),className:"pl-10 pr-4 py-2.5 border border-gray-200 rounded-lg text-sm appearance-none bg-white hover:border-blue-300 focus:border-[var(--theme-color-1)] focus:ring-2 focus:ring-[var(--theme-hover-color-1)]/20 transition-all duration-200 cursor-pointer shadow-sm focus:shadow-md w-44",children:[e.jsx("option",{value:"",children:"Sort By"}),e.jsx("option",{value:"price-asc",children:"Price: Low to High"}),e.jsx("option",{value:"price-desc",children:"Price: High to Low"}),e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"serial",children:"Property ID"})]}),e.jsx(L,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>p(t=>({...t,showFilters:!t.showFilters})),className:`p-2.5 rounded-lg hover:bg-blue-50 transition-all duration-200 relative ${l.showFilters?"bg-blue-100 text-[var(--theme-color-1)]":"hover:text-[var(--theme-color-1)]"}`,title:"Toggle Filters",children:[e.jsx(B,{className:"w-5 h-5"}),h>0&&e.jsx("span",{className:"absolute top-0 right-0 w-4 h-4 bg-[var(--theme-color-1)] text-white text-xs rounded-full flex items-center justify-center",children:h})]}),e.jsx(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>p(t=>({...t,isGridView:!0})),className:`p-2.5 rounded-lg transition-all duration-200 ${l.isGridView?"bg-blue-100 text-[var(--theme-color-1)]":"hover:bg-blue-50 hover:text-[var(--theme-color-1)]"}`,children:e.jsx(G,{className:"w-5 h-5"})}),e.jsx(s.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>p(t=>({...t,isGridView:!1})),className:`p-2.5 rounded-lg transition-all duration-200 ${l.isGridView?"hover:bg-blue-50 hover:text-[var(--theme-color-1)]":"bg-blue-100 text-[var(--theme-color-1)]"}`,children:e.jsx(D,{className:"w-5 h-5"})})]})]})]}),h>0&&e.jsxs(s.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},className:"mt-4 pt-4 border-t border-gray-100 flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500 mr-1",children:"Active filters:"}),r.searchQuery&&e.jsxs("div",{className:"bg-blue-50 text-[var(--theme-color-1)] rounded-full px-3 py-1 text-xs flex items-center",children:[e.jsx(I,{className:"w-3 h-3 mr-1"}),e.jsxs("span",{className:"mr-1",children:['"',r.searchQuery,'"']}),e.jsx("button",{onClick:()=>o(t=>({...t,searchQuery:""})),className:"text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(m,{className:"w-3 h-3"})})]}),r.propertyType&&e.jsxs("div",{className:"bg-blue-50 text-[var(--theme-color-1)] rounded-full px-3 py-1 text-xs flex items-center",children:[e.jsx(V,{className:"w-3 h-3 mr-1"}),e.jsxs("span",{className:"mr-1",children:["Type: ",r.propertyType]}),e.jsx("button",{onClick:()=>o(t=>({...t,propertyType:""})),className:"text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(m,{className:"w-3 h-3"})})]}),(r.priceRange[0]>0||r.priceRange[1]<Number.MAX_SAFE_INTEGER)&&e.jsxs("div",{className:"bg-blue-50 text-[var(--theme-color-1)] rounded-full px-3 py-1 text-xs flex items-center",children:[e.jsx($,{className:"w-3 h-3 mr-1"}),e.jsxs("span",{className:"mr-1",children:["Price: ₹",r.priceRange[0].toLocaleString()," - ₹",r.priceRange[1]===Number.MAX_SAFE_INTEGER?"Any":r.priceRange[1].toLocaleString()]}),e.jsx("button",{onClick:()=>o(t=>({...t,priceRange:[0,Number.MAX_SAFE_INTEGER]})),className:"text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(m,{className:"w-3 h-3"})})]}),e.jsxs("button",{onClick:u,className:"text-xs text-red-600 hover:text-red-700 font-medium ml-auto transition-colors flex items-center",children:[e.jsx(m,{className:"w-3 h-3 mr-1"}),"Clear All"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx(j,{mode:"wait",children:l.showFilters&&e.jsx(s.aside,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},transition:{duration:.3},className:"lg:col-span-1",children:e.jsx(z,{filters:r,setFilters:o,onApplyFilters:F})})}),e.jsxs("div",{className:`${l.showFilters?"lg:col-span-3":"lg:col-span-4"}`,children:[A&&e.jsxs(s.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-gradient-to-r from-blue-50 to-blue-100/50 border border-blue-200 p-4 rounded-xl mb-6 flex items-center shadow-sm",children:[e.jsx("div",{className:"p-2 bg-blue-200/50 rounded-full mr-3",children:e.jsx(W,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-blue-800 font-medium",children:["Showing exact match for Property #",r.searchQuery]}),e.jsx("p",{className:"text-blue-600 text-sm",children:"We found the property you're looking for"})]})]}),e.jsxs(s.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mb-6 flex items-center justify-between",children:[e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-semibold text-[var(--theme-color-1)]",children:n.length})," ",n.length===1?"property":"properties"," ","found"]}),h>0&&e.jsx(s.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:u,className:"text-sm text-[var(--theme-color-1)] hover:text-[var(--theme-hover-color-1)] font-medium transition-colors",children:"Reset All Filters"})]}),e.jsx(s.div,{layout:!0,className:`grid gap-6 ${l.isGridView?"grid-cols-1 md:grid-cols-2 xl:grid-cols-3":"grid-cols-1"}`,children:e.jsx(j,{children:n.length>0?n.map((t,a)=>e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.05,duration:.3},children:e.jsx(X,{availability:t.availability,property:t,viewType:l.isGridView?"grid":"list"})},t._id)):e.jsxs(s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},className:"col-span-full text-center py-16 bg-white rounded-xl shadow-md border border-gray-100",children:[e.jsx("div",{className:"p-4 mx-auto bg-gray-50 rounded-full inline-block mb-6",children:e.jsx(Y,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"No properties found"}),e.jsx("p",{className:"text-gray-600 max-w-md mx-auto mb-6",children:!isNaN(r.searchQuery)&&r.searchQuery.trim()!==""?`No property found with ID #${r.searchQuery}`:"We couldn't find any properties matching your current filters. Try adjusting your search criteria."}),e.jsxs(s.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:u,className:"px-6 py-2 bg-gradient-to-r from-[var(--theme-color-1)] to-[var(--theme-hover-color-1)] text-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center mx-auto",children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:"View All Properties"})]})]})})})]})]})]})]})},ee=()=>e.jsxs(e.Fragment,{children:[e.jsxs(J,{children:[e.jsx("title",{children:"Browse Properties | Hybrid Realty - Find Your Dream Home"}),e.jsx("meta",{name:"description",content:"Discover a wide range of properties for sale and rent. Browse through our extensive collection of houses, apartments, villas, and commercial spaces. Find your perfect property with Hybrid Realty."}),e.jsx("meta",{name:"keywords",content:"property listings, houses for sale, apartments for rent, real estate, property search, buy home, rent property, residential properties, commercial spaces"}),e.jsx("meta",{property:"og:title",content:"Browse Properties | Hybrid Realty - Find Your Dream Home"}),e.jsx("meta",{property:"og:description",content:"Discover a wide range of properties for sale and rent. Browse through our extensive collection of houses, apartments, villas, and commercial spaces. Find your perfect property with Hybrid Realty."}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:url",content:window.location.href}),e.jsx("meta",{property:"og:image",content:"/properties-og-image.jpg"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:"Browse Properties | Hybrid Realty - Find Your Dream Home"}),e.jsx("meta",{name:"twitter:description",content:"Discover a wide range of properties for sale and rent. Browse through our extensive collection of houses, apartments, villas, and commercial spaces. Find your perfect property with Hybrid Realty."}),e.jsx("meta",{name:"twitter:image",content:"/properties-og-image.jpg"})]}),e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"WebPage",name:"Property Listings",description:"Comprehensive real estate listing platform with diverse property options",mainEntity:{"@type":"SearchResultsPage",description:"Search and filter through various residential and commercial properties",potentialAction:{"@type":"SearchAction",target:{"@type":"EntryPoint",urlTemplate:`${window.location.origin}/properties?search={search_term_string}`},"query-input":"required name=search_term_string"}},publisher:{"@type":"Organization",name:"Hybrid Realty",url:window.location.origin,logo:"/logo.jpg"}})}),e.jsx("div",{children:e.jsx(Z,{})})]});export{ee as default};
