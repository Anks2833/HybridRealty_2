import{r as o,d as P,u as R,j as e,b as v,B as N,y as f,H as L}from"./index-DXzqZs6Y.js";import{P as s}from"./index-nZwr5w8z.js";import{m as n}from"./proxy-BeJCh03b.js";import{G as C}from"./gift-Cod-Dbcl.js";import{C as j}from"./clock-GLhPvDiQ.js";import{M as S}from"./map-pin-DGa_vYXv.js";import{C as b}from"./calendar-B7HDQq4w.js";import{U as E}from"./users-g2Bcqqgg.js";import{L as H}from"./loader-DGPU-eLM.js";import{S as T}from"./search-D84qNF6G.js";import{T as q}from"./tag-XYVWVa7Q.js";import{A as I}from"./index-DHRI3Ziy.js";import{c as M}from"./createLucideIcon-B7oRjKWa.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=M("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),k=({property:t})=>{const[y,p]=o.useState(!1),c=P(),{isLoggedIn:u}=R(),[d,l]=o.useState(!1);o.useEffect(()=>{(async()=>{try{(await v.get(`${N}/api/lucky-draw/property/${t.propertyId}`)).data.property.isUserRegistered&&l(!0)}catch(m){console.error("Error fetching lucky draw property details:",m)}})()},[]);const g=async()=>{c(`/lucky-draw/property/${t.propertyId}`)},x=i=>{if(i.stopPropagation(),!u){f.info("Please login to register for the lucky draw"),c("/login");return}if(d){f.info("You are already registered for this lucky draw");return}c(`/lucky-draw/property/${t.propertyId}`)},r=()=>{const i=new Date,D=new Date(t.biddingEndDate)-i,w=Math.ceil(D/(1e3*60*60*24));return w>0?w:0},a=()=>r()===0,h=i=>{const m={year:"numeric",month:"short",day:"numeric"};return new Date(i).toLocaleDateString(void 0,m)};return e.jsxs(n.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},whileHover:{y:-5},transition:{duration:.3},className:"cursor-pointer rounded-xl overflow-hidden hover:shadow-xl transition-all duration-300 bg-white border border-gray-100",onClick:g,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[e.jsxs("div",{className:"relative h-48",children:[e.jsx("img",{src:t.image[0],alt:t.title,className:"w-full h-full object-cover"}),t.status==="completed"&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsxs("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium shadow-lg flex items-center gap-1",children:[e.jsx(Trophy,{className:"w-3 h-3"}),"Winner Selected"]})}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsxs(n.span,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`bg-[var(--theme-investment-card-tag)] text-white \r
              px-3 py-1 rounded-full text-sm font-medium shadow-lg flex items-center gap-1`,children:[e.jsx(C,{className:"w-3 h-3"}),"Lucky Draw"]})}),e.jsx("div",{className:"absolute bottom-4 right-4",children:a()?e.jsx("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-sm font-medium shadow-lg",children:"Registration Closed"}):e.jsxs("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium shadow-lg flex items-center gap-1",children:[e.jsx(j,{className:"w-3 h-3"}),r()," days left"]})})]}),e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[e.jsx(S,{className:"w-4 h-4 mr-2 text-blue-500"}),t.location]}),e.jsx("h3",{className:`text-xl font-semibold text-gray-900 line-clamp-2 \r
          group-hover:text-[var(--theme-color-1)] transition-colors`,children:t.title}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1 p-2 rounded-lg bg-blue-50",children:[e.jsxs("div",{className:"flex items-center text-blue-700 text-sm font-medium",children:[e.jsx(b,{className:"w-4 h-4 mr-1 text-blue-500"}),"Start Date"]}),e.jsx("span",{className:"text-sm text-gray-700",children:h(t.biddingStartDate)})]}),e.jsxs("div",{className:"flex flex-col gap-1 p-2 rounded-lg bg-blue-50",children:[e.jsxs("div",{className:"flex items-center text-blue-700 text-sm font-medium",children:[e.jsx(b,{className:"w-4 h-4 mr-1 text-blue-500"}),"End Date"]}),e.jsx("span",{className:"text-sm text-gray-700",children:h(t.biddingEndDate)})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(E,{className:"w-5 h-5 mr-2 text-blue-500"}),e.jsxs("span",{className:"font-medium",children:[t.registeredUsers>=100?100:t.registeredUsers||0,"/100"]}),e.jsx("span",{className:"ml-1 text-sm text-gray-500",children:"registrations"})]}),a()?t.status==="completed"?e.jsx(Link,{to:`/lucky-draw/property/${t.propertyId}`,onClick:i=>i.stopPropagation(),className:"px-4 py-2 rounded-lg text-sm font-medium bg-amber-100 text-amber-700 hover:bg-amber-200",children:"View Results"}):e.jsxs("span",{className:"text-gray-500 text-sm flex items-center",children:[e.jsx(j,{className:"w-4 h-4 mr-1"}),"Drawing Soon"]}):e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:x,className:`px-4 py-2 rounded-lg text-sm font-medium shadow-sm 
      ${d?"bg-green-100 text-green-700 border border-green-200":"bg-blue-500 text-white hover:bg-blue-600"}`,children:d?"Registered":"Register Now"})]})]})]})};k.propTypes={property:s.shape({_id:s.string.isRequired,title:s.string.isRequired,location:s.string.isRequired,image:s.arrayOf(s.string).isRequired,biddingStartDate:s.string.isRequired,biddingEndDate:s.string.isRequired,registeredUsers:s.number,isUserRegistered:s.bool}).isRequired};const Z=()=>{const[t,y]=o.useState([]),[p,c]=o.useState(!0),[u,d]=o.useState(null),[l,g]=o.useState("");o.useEffect(()=>{(async()=>{try{c(!0);const a=await v.get(`${N}/api/lucky-draw/properties`);if(a.data.success)y(a.data.properties),d(null);else throw new Error(a.data.message)}catch(a){console.error("Error fetching lucky draw properties:",a),d("Failed to load lucky draw properties. Please try again later.")}finally{c(!1)}})()},[]);const x=t.filter(r=>{const a=l?l.toLowerCase():"";return r.title&&r.title.toLowerCase().includes(a)||r.location&&r.location.toLowerCase().includes(a)});return p?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 pt-16",children:e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(H,{className:"w-12 h-12 text-[var(--theme-color-1)] animate-spin mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Loading..."})]})})}):u?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 pt-16",children:e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center text-red-600 p-6 rounded-lg bg-red-50 max-w-md",children:[e.jsx("p",{className:"font-medium mb-4",children:u}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-[var(--theme-color-1)] text-white rounded-lg hover:bg-[var(--theme-hover-color-1)] transition-colors duration-200",children:"Try Again"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs(L,{children:[e.jsx("title",{children:"Lucky Draw Properties | Hybrid Realty - Win Your Dream Property"}),e.jsx("meta",{name:"description",content:"Participate in Hybrid Realty's exclusive lucky draw and get a chance to win incredible properties. Browse our selection of lucky draw properties and register for your opportunity to win."}),e.jsx("meta",{name:"keywords",content:"lucky draw properties, win a property, real estate lottery, property giveaway, property contest, real estate opportunity, win your dream home"}),e.jsx("meta",{property:"og:title",content:"Lucky Draw Properties | Hybrid Realty - Win Your Dream Property"}),e.jsx("meta",{property:"og:description",content:"Participate in Hybrid Realty's exclusive lucky draw and get a chance to win incredible properties. Browse our selection of lucky draw properties and register for your opportunity to win."}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:url",content:window.location.href}),e.jsx("meta",{property:"og:image",content:"/lucky-draw-og-image.jpg"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:"Lucky Draw Properties | Hybrid Realty - Win Your Dream Property"}),e.jsx("meta",{name:"twitter:description",content:"Participate in Hybrid Realty's exclusive lucky draw and get a chance to win incredible properties. Browse our selection of lucky draw properties and register for your opportunity to win."}),e.jsx("meta",{name:"twitter:image",content:"/lucky-draw-og-image.jpg"})]}),e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"WebPage",name:"Lucky Draw Real Estate Properties",description:"Exclusive opportunity to win premium real estate properties through a lucky draw",mainEntity:{"@type":"CollectionPage",name:"Property Lucky Draw Listings",description:"Browse and participate in property lucky draw opportunities",potentialAction:{"@type":"SearchAction",target:{"@type":"EntryPoint",urlTemplate:`${window.location.origin}/lucky-draw?search={search_term_string}`},"query-input":"required name=search_term_string"}},publisher:{"@type":"Organization",name:"Hybrid Realty",url:window.location.origin,logo:"/logo.jpg"},offer:{"@type":"Offer",description:"Chance to win real estate properties through lucky draw",availability:"https://schema.org/InStock",priceCurrency:"INR",eligibilityRegion:"IN"}})}),e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-gray-50 pt-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-14",children:[e.jsx(n.header,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"text-center mb-12",children:e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Lucky Draw"})}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-8",children:e.jsxs("div",{className:"relative",children:[e.jsx(T,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx("input",{type:"text",placeholder:"Search by property name or location...",value:l,onChange:r=>g(r.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-gray-200 focus:border-[var(--theme-hover-color-1)] focus:ring-2 focus:ring-blue-200 transition-all"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-full text-green-600",children:e.jsx(q,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:t.length}),e.jsx("p",{className:"text-gray-600",children:"Active Lucky Draw Properties"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.jsx(I,{children:x.length>0?x.map(r=>e.jsx(k,{property:r},r._id)):e.jsxs(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"col-span-full text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx($,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No lucky draw properties found"}),e.jsx("p",{className:"text-gray-600",children:l?`No properties match "${l}"`:"There are currently no lucky draw properties available"})]})})})]})})]})};export{Z as default};
